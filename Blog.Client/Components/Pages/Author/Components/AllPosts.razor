@if (ListPosts?.Any() == true)
{
    <div class="space-y-6">
        @foreach (var post in ListPosts)
        {
            <article class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100">

                <!-- Image First (when available) -->
                @if (!string.IsNullOrEmpty(post.PhotoPreview))
                {
                    <div class="relative w-full h-80 overflow-hidden group cursor-pointer">
                        <img src="@post.PhotoPreview"
                             class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                             alt="@post.Title" />
                        <!-- Gradient Overlay -->
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>

                        <!-- Category Badge on Image -->
                        <div class="absolute top-4 left-4">
                            <span class="inline-block bg-white/90 backdrop-blur-sm text-indigo-600 px-4 py-2 rounded-full text-sm font-bold shadow-lg">
                                @post.CategoryName
                            </span>
                        </div>
                    </div>
                }

                <div class="p-6 lg:p-8">
                    <!-- Category and Date (if no image) -->
                    @if (string.IsNullOrEmpty(post.PhotoPreview))
                    {
                        <div class="flex items-center justify-between mb-4">
                            <span class="inline-block bg-indigo-100 text-indigo-600 px-4 py-2 rounded-full text-sm font-bold">
                                @post.CategoryName
                            </span>
                            <span class="text-sm text-gray-500 font-medium">@post.PostCreatedAt.ToString("MMM dd, yyyy")</span>
                        </div>
                    }
                    else
                    {
                        <div class="flex items-center justify-end mb-4">
                            <span class="text-sm text-gray-500 font-medium">@post.PostCreatedAt.ToString("MMM dd, yyyy")</span>
                        </div>
                    }

                    <!-- Title -->
                    <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4 leading-tight hover:text-indigo-600 transition-colors cursor-pointer">
                        @post.Title
                    </h2>

                    <!-- Author and Reading Time -->
                    <div class="flex items-center gap-6 text-sm text-gray-600 mb-5 pb-5 border-b border-gray-100">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center">
                                <svg class="w-4 h-4 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <span class="font-semibold text-gray-700">@post.Author</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <svg class="w-4 h-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>@post.ReadingDuration</span>
                        </div>
                    </div>

                    <!-- Content Preview -->
                    <p class="text-gray-700 text-base lg:text-lg line-clamp-3 leading-relaxed mb-6">
                        @post.Content
                    </p>

                    <!-- Tags -->
                    @if (post.Tags?.Any() == true)
                    {
                        <div class="flex flex-wrap gap-2 mb-6">
                            @foreach (var tag in post.Tags.Take(5))
                            {
                                <span class="bg-gray-100 hover:bg-indigo-50 px-3 py-1.5 rounded-lg text-sm font-medium text-gray-700 hover:text-indigo-600 transition-colors cursor-pointer">
                                    #@tag.Name
                                </span>
                            }
                            @if (post.Tags.Count > 5)
                            {
                                <span class="bg-gray-100 px-3 py-1.5 rounded-lg text-sm font-medium text-gray-500">
                                    +@(post.Tags.Count - 5) more
                                </span>
                            }
                        </div>
                    }

                    <!-- Footer: Stats and CTA -->
                    <div class="flex items-center justify-between pt-5 border-t border-gray-100">
                        <div class="flex items-center gap-6 text-sm">
                            <button class="flex items-center gap-2 hover:text-red-500 transition-colors group">
                                <svg class="w-5 h-5 @(post.PhotoIsliked ? "fill-red-500 text-red-500" : "text-gray-400 group-hover:text-red-500")" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                                <span class="font-semibold text-gray-700">@post.PostLike</span>
                            </button>
                            <button class="flex items-center gap-2 text-gray-600 hover:text-indigo-600 transition-colors">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                </svg>
                                <span class="font-semibold text-gray-700">@post.CommentCount</span>
                            </button>
                        </div>

                        <button class="flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 hover:shadow-lg hover:-translate-y-0.5 transition-all group">
                            Read More
                            <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                </div>
            </article>
        }
    </div>
}
else
{
    <div class="bg-white rounded-2xl shadow-sm p-12 text-center">
        <svg class="w-20 h-20 text-gray-300 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
        <h3 class="text-2xl font-bold text-gray-900 mb-2">No posts found</h3>
        <p class="text-gray-600 mb-6">Start creating amazing content for your readers</p>
        <button class="inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-xl">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Create Your First Post
        </button>
    </div>
}
@code {

    public List<Postni>? ListPosts = new List<Postni>
    {
        new Postni
        {
            Title = "Exploring Blazor Server",
            CategoryName = "Development",
            Author = "Clint Villanueva",
            PostCreatedAt = DateTime.Now.AddDays(-2),
            ReadingDuration = "5 min read",
            PhotoPreview = "https://picsum.photos/800/400?random=1",
            PostLike = 12,
            PhotoIsliked = true,
            CommentCount = 3,
            Content = "Blazor Server is a powerful framework for building interactive web applications using C#. " +
                      "It allows developers to write client-side logic in C# instead of JavaScript, enabling full-stack development " +
                      "with a single language. In this post, we’ll explore how to set up a Blazor Server project, handle events, " +
                      "and efficiently manage state across your components. We'll also touch on best practices for component reusability " +
                      "and performance optimization, making your apps faster and easier to maintain.",
            Tags = new List<Tagni> { new Tagni { Name = "Blazor" }, new Tagni { Name = "C#" }, new Tagni { Name = "WebDev" } }
        },
        new Postni
        {
            Title = "Understanding CQRS Pattern",
            CategoryName = "Architecture",
            Author = "Jane Doe",
            PostCreatedAt = DateTime.Now.AddDays(-5),
            ReadingDuration = "7 min read",
          
            PostLike = 20,
            PhotoIsliked = false,
            CommentCount = 5,
            Content = "CQRS (Command Query Responsibility Segregation) is a design pattern that separates read and write " +
                      "operations into different models, making complex systems easier to scale and maintain. This post " +
                      "will guide you through the core principles of CQRS, including how to implement commands and queries, " +
                      "handle eventual consistency, and integrate with event sourcing. By the end, you'll understand why " +
                      "CQRS is a go-to approach for high-performance, scalable applications, especially in microservices architecture.",
            Tags = new List<Tagni> { new Tagni { Name = "CQRS" }, new Tagni { Name = "DesignPattern" }, new Tagni { Name = "Microservices" } }
        },
        new Postni
        {
            Title = "Getting Started with Tailwind CSS",
            CategoryName = "Design",
            Author = "John Smith",
            PostCreatedAt = DateTime.Now.AddDays(-10),
            ReadingDuration = "3 min read",
            PhotoPreview = "https://picsum.photos/800/400?random=3",
            PostLike = 8,
            PhotoIsliked = false,
            CommentCount = 1,
            Content = "Tailwind CSS is a utility-first CSS framework that helps you build modern, responsive interfaces " +
                      "rapidly without leaving your HTML. In this post, we’ll cover the basics of installing Tailwind, " +
                      "creating reusable components, and using utility classes effectively to style your application. " +
                      "You'll also learn some tips and tricks for optimizing your workflow, such as leveraging Tailwind's " +
                      "JIT mode and integrating it with your preferred front-end framework. By the end, you’ll be able " +
                      "to build beautiful UIs faster than ever before.",
            Tags = new List<Tagni> { new Tagni { Name = "CSS" }, new Tagni { Name = "Tailwind" }, new Tagni { Name = "UI" }, new Tagni { Name = "Frontend" }, new Tagni { Name = "WebDesign" } }
        }
    };

    public class Postni
    {
        public string? Title { get; set; }
        public string? CategoryName { get; set; }
        public string? Author { get; set; }
        public DateTime PostCreatedAt { get; set; }
        public string? ReadingDuration { get; set; }
        public string? PhotoPreview { get; set; }
        public int PostLike { get; set; }
        public bool PhotoIsliked { get; set; }
        public int CommentCount { get; set; }
        public string? Content { get; set; }
        public List<Tagni>? Tags { get; set; }
    }

    public class Tagni
    {
        public string? Name { get; set; }
    }
}
